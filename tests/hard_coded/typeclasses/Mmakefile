#-----------------------------------------------------------------------------#

main_target: check

include ../../Mmake.common

#-----------------------------------------------------------------------------#

PROGS=	\
	constrained_lambda \
	extract_typeinfo \
	existential_type_classes \
	ho_map \
	implied_instance \
	implied_instance_poly \
	inference_test \
	inference_test_2 \
	lambda_multi_constraint_same_tvar \
	multi_constraint_diff_tvar \
	multi_constraint_same_tvar \
	multi_parameter \
	nondet_class_method \
	operator_classname \
	superclass_call \
	test_default_func_mode \
	typeclass_test_6

# implied_instance_missing_constraint is not yet included as there is a bug
# stopping it from working.
# 
# Actually, there is a bug, but it isn't in that test case. I'm trying to
# find exactly how to trigger the bug. Oh well...

# we do not yet pass the following tests:
#       typeclass_test_5.m (this is really a WISHLIST item)
#


MCFLAGS-inference_test = --infer-all
MCFLAGS-inference_test_2 = --infer-all
MCFLAGS-existential_type_classes = --infer-all
MCFLAGS-lambda_multi_constraint_same_tvar = --infer-all

#-----------------------------------------------------------------------------#

DEPS=	$(PROGS:%=%.dep)
DEPENDS=$(PROGS:%=%.depend)
OUTS=	$(PROGS:%=%.out)
RESS=	$(PROGS:%=%.res)
MODS=	$(PROGS:%=%.mod)

#-----------------------------------------------------------------------------#

dep:	$(DEPS)

depend:	$(DEPENDS)

check:	$(OUTS) $(RESS)

mods:	$(MODS)

all:	$(PROGS)

#-----------------------------------------------------------------------------#
